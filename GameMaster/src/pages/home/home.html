<ion-header>
  <ion-navbar>
    <ion-title>
      <h2 class="navtitle">Hexagon Game Master</h2>
    </ion-title>
  </ion-navbar>
</ion-header>



<ion-content padding>

  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingText="Pull & release to refresh.">

    </ion-refresher-content>
  </ion-refresher>

  <ion-list>
    <ion-item>
      <ion-label>Players</ion-label>
      <ion-select [(ngModel)]="player">
        <ion-option *ngFor="let p of players">{{p.name}}</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>Teams</ion-label>
      <ion-select [(ngModel)]="team">
        <ion-option *ngFor="let t of teams">{{t.name}}</ion-option>
      </ion-select>
    </ion-item>

    <button ion-button block text-center (click)="add_team(team, player)">Add player to team</button>
  </ion-list>

  <ion-item>
    <p text-center>Winner bets</p>
    <button ion-button block text-center *ngFor="let b of bets" (click)="bet_win(b.id, b.name)">{{b.name}}</button>
  </ion-item>

  <ion-item>
    <p text-center>Loser bets</p>
    <button ion-button block text-center *ngFor="let b of bets" (click)="bet_lose(b.id, b.name)">{{b.name}}</button>
  </ion-item>

  <ion-item>
    <p text-center>Change odds</p>
    <button ion-button block text-center *ngFor="let b of bets" (click)="odds_change(b.id, b.name, b.multiplier)">{{b.name}}</button>
  </ion-item>

  <ion-item>
    <p text-center>Lock/unlock bets</p>
    <button ion-button block text-center (click)="lock()">Lock bets</button>
    <button ion-button block text-center (click)="unlock()">Unlock bets</button>
  </ion-item>

  <ion-list>
    <p text-center>Trivia</p>
    <ion-item>
      <ion-label>Question</ion-label>
      <ion-select [(ngModel)]="question" interface="action-sheet">
        <ion-option *ngFor="let q of questions" (ionSelect)="trivia(q)">{{q.name}}</ion-option>
      </ion-select>
    </ion-item>
    <!-- <button ion-button block text-center (click)="trivia()">Send notification</button> -->
  </ion-list>


  <ion-item>
    <p text-center>User purchases</p>
    <p text-center *ngFor="let up of userpurchases">{{up.username}} - {{up.name}}</p>
  </ion-item>

  <ion-item>
    <p text-center>User predictions</p>
    <p text-center *ngFor="let upd of userpreds">{{upd.username}}: {{upd.name}} - Amount: {{upd.amount}}</p>
  </ion-item>

  <ion-item>
    <p text-center>Online users</p>
    <p text-center *ngFor="let o of onlineusers">{{o}}</p>
  </ion-item>

</ion-content>